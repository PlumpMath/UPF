<View>
  <Resources>
    <Template Key="EnemyTemplate">
      <Image Source="{Binding Sprite}" Margin="5,0"/>
    </Template>
    
    <Template Key="EnemyPanelTemplate">
      <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Orientation="Horizontal"/>
    </Template>
  
    <Template Key="PartyMemberInfoTemplate">
      <Border Padding="10">
        <StackPanel>
          <TextBlock Text="{Binding Name}"/>
          <StackPanel Orientation="Horizontal">
            <TextBlock Text="HP:"/>
            <TextBlock Text="{Binding HP}" Margin="5,0,0,0"/>
          </StackPanel>
        </StackPanel>
      </Border>
    </Template>
  
    <Template Key="PartyMemberPanelTemplate">
      <UniformGrid HorizontalAlignment="Center" VerticalAlignment="Top" Margin="0,10"/>
    </Template>
  </Resources>
  
  <ItemsControl ItemTemplate="{Resource PartyMemberInfoTemplate}" ItemsSource="{Binding Party}" ItemsPanelTemplate="{Resource PartyMemberPanelTemplate}"/>

  <ItemsControl ItemTemplate="{Resource EnemyTemplate}" ItemsSource="{Binding Enemies}" ItemsPanelTemplate="{Resource EnemyPanelTemplate}"/>

  <Border HorizontalAlignment="Stretch" VerticalAlignment="Bottom" Padding="10, 10, 10, 70">    
    <TextBlock Text="{Binding Message, Mode=OneTime}" VerticalAlignment="Top" HorizontalAlignment="Left"/>
  </Border>
</View>
